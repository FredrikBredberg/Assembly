.include "m328pdef.inc"
.equ testvalue = 0b10000001
.def returnreg = r16
.def paramreg = r17
.def temp = r18
.cseg
.org 0




	rjmp reset
reset:

	ldi temp,low(RAMEND)
	out SPL, temp

	ldi temp, high(RAMEND)
	out SPH, temp
	
	ldi paramreg, testvalue
	rcall count

count:
cpi temp, 0
	breq stop
	dec temp

	lsl paramreg
	sbrs paramreg, 7
	inc returnreg
	rjmp count
	


stop:

	rjmp stop
