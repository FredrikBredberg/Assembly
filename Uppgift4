.include "m328pdef.inc"
.equ testvalue = 0b10000001
.def returnreg = r16
.def paramreg = r17
.def temp = r18
.cseg
.org 0




	rjmp reset
reset:

	ldi temp,low(RAMEND)
	out SPL, temp

	ldi temp, high(RAMEND)
	out SPH, temp
	
	ldi paramreg, testvalue
	rcall count

count:


	cpi temp, 0 ; jämför temp och 0 
	lsl paramreg ;shiftar left i registret paramreg

	breq stop ; om temp = 0 hoppa till stop

	dec temp ; minska temp


	sbrs paramreg, 7 ;skippar nästa steg om paramreg är 7 (MSB)

	inc returnreg ; ökar returnreg med 1 

	rjmp count
	

stop:

	rjmp stop
